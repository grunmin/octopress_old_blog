<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: linux | 郭润民的博客]]></title>
  <link href="http://grunmin.github.io/tags/linux/atom.xml" rel="self"/>
  <link href="http://grunmin.github.io/"/>
  <updated>2013-11-16T08:59:14+08:00</updated>
  <id>http://grunmin.github.io/</id>
  <author>
    <name><![CDATA[Grunmin]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[RHCE note 9]]></title>
    <link href="http://grunmin.github.io/blog/2013/11/03/rhce-note-9/"/>
    <updated>2013-11-03T23:20:00+08:00</updated>
    <id>http://grunmin.github.io/blog/2013/11/03/rhce-note-9</id>
    <content type="html"><![CDATA[<!-- more -->


<h2>unit 2</h2>

<h3>配置sudoers</h3>

<p>文件/etc/sudoers是只读文件，保存时需加！强制保存.<br/>
实例：
<code>
[root@desktop31 ~]# ll /etc/sudoers
-r--r-----. 1 root root 4002 Mar  2  2012 /etc/sudoers
</code></p>

<p>vi sudoers</p>

<ol>
<li><p>sudoers语法规则
<code>
user1   machine=(user2) command
</code><br/>
实例：
<code>
[root@desktop31 ~]# cat /etc/sudoers | grep -v ^#
root    ALL=(ALL)   ALL
</code>
说明:root能在所有机器上以所有用户的身份执行任何命令。</p></li>
<li><p>授予组成员访问任何命令的权限
<code>
%groupname  ALL=    ALL
</code>
实例：
<code>
[root@desktop31 ~]# cat /etc/sudoers | grep %wheel
%wheel  ALL=(ALL)   ALLj
</code>
说明：wheel组能在所有机器上以所有用户身份执行任何命令。</p></li>
<li><p>无需提供密码的设置
<code>
user    machine=(user2) NOPASSWD: ALL
</code>
实例：
<code>
user1   ALL=(root)      NOPASSWD: ALL
</code></p></li>
<li><p>授予多名用户具有sudo权限
<code>
User_Alias  username = user1, user2, user3
username    machine=(user)  ALL
</code>
实例：
<code>
User_Alias ADMINS = user01, user001
ADMIN   ALL=(ALL)       NOPASSWD: ALL
</code></p></li>
<li><p>设置用户对特定命令列表具有sudo权限
<code>
Cmnd_Alias type = command, command
username    ALL=(ALL)   type
</code>
实例：
<code>
Cmnd_Alias STORAGE = /sbin/fdisk, /sbin/sfdisk, /sbin/parted, /sbin/partprobe, /bin/mount, /bin/umount
ADMINS  ALL=(ALL)       NOPASSWD: STORAGE
</code></p></li>
</ol>


<h3>Kerberos配置</h3>

<h4>安装</h4>

<p><code>
yum groupinstall -y directory-client
yum install -y openldap-clients
yum install -y krb5-workstation
</code></p>

<h4>配置</h4>

<p><code>
authconfig --enableldap --ldapserver=instructor.example.com --enableldaptls --ldaploadcacert=ftp://instructor.example.com/pub/example-ca.crt --ldapbasedn="dc=example,dc=com" --disableldapauth --enablekrb5 --krb5kdc=instructor.example.com --krb5adminserver=instructor.example.com --krb5realm=EXAMPLE.COM --enablesssd --enablesssdauth --update
</code>
<code>
--enablceldaptls 开启tls
--ldaploadcacert derberos证书下载目录
--ldapbasedn 基准dn
--disableldapauth 禁止ldap认证
--krb5realm 域名
--enablesssd --enablesssdauth 开启sssd认证
</code></p>

<h4>测试配置：</h4>

<p><code>
getent passwd ldapuserX
ssh ldapuserX@serverX
</code>
实例：
<code>
[root@demo cacerts]# getent passwd ldapuser1
ldapuser1:*:1701:1701:LDAP Test User 1:/home/guests/ldapuser1:/bin/bash
[root@demo cacerts]# ssh ldapuser1@serverX
ldapuser1@serverX's password: kerberos
</code></p>

<h2>unit 3</h2>

<h3>Bash 编程</h3>

<ul>
<li><p>包含bash命令的文件第一行应为：
#!/bin/bash</p></li>
<li><p>查看环境变量：<br/>
<code>echo $PATH</code><br/>
<code>set</code><br/>
<code>env</code><br/>
实例：
<code>
[root@desktop31 ~]# echo $PATH
/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin:/root/bin
</code></p></li>
<li><p>变量赋值,使用
str=value
$str 或者 ${str}</p></li>
<li><p>添加目录到环境变量：<br/>
<code>PATH=$PATH:path</code><br/>
实例：<br/>
<code>PATH=$PATH:/root</code></p></li>
<li><p>创建全局变量：<br/>
<code>export $NAME</code></p></li>
<li><p>命令替换<br/>
<code>$( shell command)</code><br/>
`shell command`<br/>
实例1：
<code>
touch datafile.$(id -un)
[root@desktop31 ~]# ls | grep datafile
datafile.root
</code>
实例2：
<code>
[root@desktop31 ~]# echo $TODAY
[root@desktop31 ~]# TODAY=`date +%Y-%m-%d`
[root@desktop31 ~]# echo $TODAY
2013-10-26
</code></p></li>
<li><p>弱引用，强引用和转义</p></li>
<li><p>bash编程实例：
```
添加用户</p>

<h1>!/bin/bash</h1>

if grep &ldquo;^$1:&rdquo; /etc/passwd ; then
  echo &ldquo;$1 is exist&rdquo;
else
  useradd $1;
  echo redhat |passwd &mdash;stdin $1;
fi
<code>  
</code>
查看网络主机

<h1>!/bin/bash</h1>

read -p &ldquo;Please input a ip addr:&rdquo; IP
ping -c2 $IP > /dev/null 2>&amp;1
if [ $? -eq 0 ];then
  echo &ldquo;$IP is up&hellip;&rdquo;
else
  echo &ldquo;$IP is down&hellip;&rdquo;
fi
<code>
</code>
无题……

<h1>!/bin/bash</h1>

read -p &ldquo;Please choice y/n&rdquo; YN
if [ $YN == y -o $YN == Y  -o $YN == &lsquo;yes&rsquo; ]; then
  echo &ldquo;Continue&hellip;&rdquo;
elif [ $YN == n -o $YN == N -o $YN == &lsquo;no&rsquo; ]; then
  exit 1
else
  echo &ldquo;other&rdquo;
fi
<code>
</code>
检查服务运行状态

<h1>!/bin/bash</h1>

read -p &ldquo;Plese input a service name:&rdquo; SN
SERVICE=$(netstat -anutlp |grep $SN)
if test -n &ldquo;$SERVICE&rdquo; ; then
  echo &ldquo;$SN is running&hellip;&rdquo;
else
  echo &ldquo;$SN is down&hellip;&rdquo;
fi
<code>
</code>
添加用户

<h1>!/bin/bash</h1>

for Name in usera userb userc a b c;
do
      if grep &ldquo;^$Name:&rdquo; /etc/passwd > /dev/null 2>&1; then
              echo &ldquo;User exist!&rdquo;;
      else
              useradd $Name;
              echo &ldquo;Add user $Name succeed!&rdquo;;
              echo &ldquo;redhat&rdquo; | passwd &mdash;stdin $Name > /dev/null 2>&1;
      fi
done
<code>
</code>
删除用户

<h1>!/bin/bash</h1>

<p>for Name in usera userb userc a b c;
do
      if grep &ldquo;^$Name:&rdquo; /etc/passwd > /dev/null 2>&amp;1 ; then
              userdel $Name;
              rm -rf /home/$Name;
              rm -rf /var/mail/$Name;
              echo &ldquo;user $Name delete succeed!&rdquo;;
      fi
done
```</p></li>
<li><p>比较文件内容diff<br/>
diff -Naur file1 file2 > patchfile  可以制作补丁文件</p></li>
<li><p>补丁命令patch
实例：
```</p>

<h1>patch issue patchfile</h1>

patching file issue

<h1>patch -b &lt; patch file</h1>

<p>patching file hosts
patching file network
```</p></li>
<li><p>过滤 grep
几个需要记住的参数：<br/>
-i  不区分大小写<br/>
-v 返回不包含特定字符的行</p></li>
<li><p>剪切cut<br/>
-f 指定第几个字段<br/>
-d 分隔符<br/>
实例：
<code>
cut -f3 -d: /etc/hosts //取出hosts文件中以:为分隔符的第3个字段
[root@demo ~]# ip addr |grep "inet " |cut -d" " -f6 |cut -d/ -f1
127.0.0.1
192.168.0.250
</code></p></li>
<li><p>tail 和 head<br/>
tail显示文件末尾10行（默认）<br/>
head显示文件开头10行（默认）<br/>
均可-n 参数后面接数字更改输出行数<br/>
tail -f可以持续显示文件的更新，例如<br/>
tail -f /var/log/messages<br/>
系统管理员常用</p></li>
<li><p>wc显示文件信息<br/>
-l 行数<br/>
-w 字数<br/>
-c 字节数
-m 字符数</p></li>
<li><p>排序sort</p></li>
<li><p>取唯一uniq</p></li>
</ul>


<h3>默认用户属性</h3>

<p>在/etc/login.defs及/etc/default/useradd中定义<br/>
chage命令可以调整属性</p>

<h2>unit 4</h2>

<p>gpg的使用<br/>
  + 流程：<br/>
  由user1产生密钥对，公钥导出给需要向user1传送文件的主机user2。<br/>
  gpg &mdash;gen-key <br/>
  gpg -K 查看私钥<br/>
  gpg -k 查看公钥<br/>
  gpg &mdash;export &mdash;armor key-id -o > file.key<br/>
  user2导入公钥加密文件，传送给user1。<br/>
  gpg &mdash;import file.key<br/>
  gpg -e -armor -r key-id file<br/>
  user1运用私钥解密文件，用私钥前需输入密码。<br/>
  gpg -d file > file_without_encrypt</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RHCE note 1]]></title>
    <link href="http://grunmin.github.io/blog/2013/11/03/rhce-note-1/"/>
    <updated>2013-11-03T02:07:00+08:00</updated>
    <id>http://grunmin.github.io/blog/2013/11/03/rhce-note-1</id>
    <content type="html"><![CDATA[<!-- more -->


<h2>unit 1</h2>

<ul>
<li><p>查看系统版本<br/>
cat /etc/redhat-release</p></li>
<li><p>查看网络参数<br/>
ifconfig</p></li>
<li><p>查看主机名<br/>
hostname</p></li>
<li><p>查看shell<br/>
cat /etc/shells</p></li>
<li><p>查看当前用户名称<br/>
whoami</p></li>
<li><p>查看当前位置<br/>
pwd</p></li>
<li><p>修改用户密码<br/>
passwd username</p></li>
<li><p>查看当前用户id<br/>
id</p></li>
<li><p>切换用户<br/>
su &ndash; username</p></li>
<li><p>查看历史命令并执行<br/>
history<br/>
!number<br/>
或者!加命令前面几个字母<br/>
实例：
<code>
[root@instructor 920]# !ca
cat /etc/shells
/bin/sh
/bin/bash
/sbin/nologin
/bin/tcsh
/bin/csh
</code></p></li>
<li><p>快捷输入前一个参数<br/>
Alt+.</p></li>
<li><p>查看后台任务，更改到前台运行，更改到后台运行<br/>
jobs，fg number，bg number<br/>
实例：
<code>
[root@instructor 920]# jobs
[1]-  Running                 gedit day1.txt &amp;
[2]+  Stopped                 firefox
[root@instructor 920]#
[root@instructor 920]#
[root@instructor 920]# fg 2
firefox
</code></p></li>
<li><p>暂停当前任务并移到后台，停止当前命令：<br/>
Ctrl+z，Ctrl+c</p></li>
</ul>


<h2>unit 6</h2>

<h3>创建文件系统</h3>

<ul>
<li> mbr区域有512B大小，其中16*4的大小用来记录四个主分区</li>
<li>主分区，扩展分区和逻辑分区总数不能超过15</li>
<li>查看磁盘信息<br/>
实例：
```
[root@instructor 920]# fdisk -l /dev/sda
Disk /dev/sda: 320.1 GB, 320072933376 bytes
255 heads, 63 sectors/track, 38913 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x0007213a</li>
</ul>


<p>   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          17      131072   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              17        4096    32768000   8e  Linux LVM
/dev/sda3            4096        6646    20480000   8e  Linux LVM
/dev/sda4            6646       38914   259190784    5  Extended
/dev/sda5            6646        7952    10485760   83  Linux
/dev/sda6            7952        8605     5251727   83  Linux
/dev/sda7            8606        8657      417658+  8e  Linux LVM
/dev/sda8            8658        8785     1028128+  8e  Linux LVM
/dev/sda9            8786        8888      827316   8e  Linux LVM
/dev/sda10           8889       16722    62926573+  8e  Linux LVM
/dev/sda11          16723       18812    16787893+  8e  Linux LVM
<code>
  - 基本流程：  
  fdisk 分区 --&gt;  mkfs  格式化 --&gt; mount 挂载  
1、分区  
实例：
</code>
fdisk /dev/vda
Command (m for help): m
Command action
   a   toggle a bootable flag
   b   edit bsd disklabel
   c   toggle the dos compatibility flag
   d   delete a partition
   l   list known partition types
   m   print this menu
   n   add a new partition
   o   create a new empty DOS partition table
   p   print the partition table
   q   quit without saving changes
   s   create a new empty Sun disklabel
   t   change a partition&rsquo;s system id
   u   change display/entry units
   v   verify the partition table
   w   write table to disk and exit
   x   extra functionality (experts only)
Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
e
Partition number (1-4): 3
First cylinder (1-27046, default 1): 21328
Last cylinder, +cylinders or +size{K,M,G} (21328-27046, default 27046):
Using default value 27046
Command (m for help): p
Disk /dev/vda: 14.0 GB, 13958643712 bytes
16 heads, 63 sectors/track, 27046 cylinders
Units = cylinders of 1008 * 512 = 516096 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00064009
   Device Boot      Start         End      Blocks   Id  System
/dev/vda1   *           3         523      262144   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/vda2             523       21328    10485760   8e  Linux LVM
Partition 2 does not end on cylinder boundary.
/dev/vda3           21328       27046     2882256    5  Extended
Command (m for help): n
Command action
   l   logical (5 or over)
   p   primary partition (1-4)
l
First cylinder (21328-27046, default 21328):
Using default value 21328
Last cylinder, +cylinders or +size{K,M,G} (21328-27046, default 27046): +100M
Command (m for help): p
Disk /dev/vda: 14.0 GB, 13958643712 bytes
16 heads, 63 sectors/track, 27046 cylinders
Units = cylinders of 1008 * 512 = 516096 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00064009
   Device Boot      Start         End      Blocks   Id  System
/dev/vda1   *           3         523      262144   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/vda2             523       21328    10485760   8e  Linux LVM
Partition 2 does not end on cylinder boundary.
/dev/vda3           21328       27046     2882256    5  Extended
/dev/vda5           21328       21531      102664+  83  Linux
Command (m for help): w
The partition table has been altered!
Calling ioctl() to re-read partition table.
WARNING: Re-reading the partition table failed with error 16: Device or resource busy.
The kernel still uses the old table. The new table will be used at
the next reboot or after you run partprobe(8) or kpartx(8)
Syncing disks.
[root@demo ~]# partx -a /dev/vda
BLKPG: Device or resource busy
error adding partition 1
BLKPG: Device or resource busy
error adding partition 2
[root@demo ~]#
[root@demo ~]# partx -a /dev/vda
BLKPG: Device or resource busy
error adding partition 1
BLKPG: Device or resource busy
error adding partition 2
BLKPG: Device or resource busy
error adding partition 3
BLKPG: Device or resource busy
error adding partition 5
```</p>

<p>  2、格式化<br/>
实例：
```
[root@demo ~]# mkfs -t ext4 /dev/vda5
mke2fs 1.41.12 (17-May-2010)
Filesystem label=
OS type: Linux
Block size=1024 (log=0)
Fragment size=1024 (log=0)
Stride=0 blocks, Stripe width=0 blocks
25688 inodes, 102664 blocks
5133 blocks (5.00%) reserved for the super user
First data block=1
Maximum filesystem blocks=67371008
13 block groups
8192 blocks per group, 8192 fragments per group
1976 inodes per group
Superblock backups stored on blocks:</p>

<pre><code>8193, 24577, 40961, 57345, 73729
</code></pre>

<p>Writing inode tables: done                          <br/>
Creating journal (4096 blocks): done
Writing superblocks and filesystem accounting information: done
This filesystem will be automatically checked every 23 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
```</p>

<p>  3、挂载<br/>
实例：
<code>
[root@demo ~]# mkdir /togogo
[root@demo ~]#
[root@demo ~]# mount /dev/vda5 /togogo/
[root@demo media]# mount | grep vda
(ro,nosuid,nodev,uhelper=udisks,uid=0,gid=0,iocharset=utf8,mode=0400,dmode=0500)
/dev/vda5 on /togogo type ext4 (rw)
</code></p>

<p>  4、修改配置文件<br/>
实例：
```
[root@demo ~]# cat /etc/fstab
#</p>

<h1>/etc/fstab</h1>

<h1>Created by anaconda on Sun Sep  1 09:14:16 2013</h1>

<p>#</p>

<h1>Accessible filesystems, by reference, are maintained under &lsquo;/dev/disk&rsquo;</h1>

<h1>See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</h1>

<p>#
/dev/mapper/vgsrv-root  /                       ext4    defaults        1 1
UUID=af186298-194c-4d01-8c3e-a21b28c45740 /boot                   ext4    defaults        1 2
/dev/mapper/vgsrv-common /common                 ext4    defaults        1 2
/dev/mapper/vgsrv-home  /home                   ext4    defaults        1 2
/dev/mapper/vgsrv-shrink /shrink                 ext4    defaults        1 2
/dev/mapper/vgsrv-swap  swap                    swap    defaults        0 0
tmpfs                   /dev/shm                tmpfs   defaults        0 0
devpts                  /dev/pts                devpts  gid=5,mode=620  0 0
sysfs                   /sys                    sysfs   defaults        0 0
proc                    /proc                   proc    defaults        0 0
UUID=c061f12f-efa2-4aa2-8091-de8e73549bae   /data   ext4    defaults,_netdev    0 0
/dev/vda5       /togogo         ext4    defaults    0 0
```
mount -a 可自动挂载已写在配置文件下的分区。</p>

<h2>unit 7</h2>

<h3>创建逻辑卷</h3>

<p>逻辑卷相对于普通分区的好处是可以动态修改卷的大小，以使用卷内文件数量的变化。
&ndash; 基本流程：<br/>
fdisk 分区 &mdash;> pvcreate 创建物理卷 &mdash;> vgcreate 创建卷组 &mdash;> lvcreate 创建逻辑卷 &mdash;> mkfs 格式化 &mdash;> mount 挂载<br/>
实例：<br/>
  1、分区，修改分区ID号
```
[root@demo ~]# fdisk /dev/vda
WARNING: DOS-compatible mode is deprecated. It&rsquo;s strongly recommended to</p>

<pre><code>     switch off the mode (command 'c') and change display units to
     sectors (command 'u').
</code></pre>

<p>Command (m for help): n
Command action
   l   logical (5 or over)
   p   primary partition (1-4)
l
First cylinder (21532-27046, default 21532):
Using default value 21532
Last cylinder, +cylinders or +size{K,M,G} (21532-27046, default 27046): +200M
Command (m for help): n
Command action
   l   logical (5 or over)
   p   primary partition (1-4)
l
First cylinder (21939-27046, default 21939):
Using default value 21939
Last cylinder, +cylinders or +size{K,M,G} (21939-27046, default 27046): +300M
Command (m for help): p
Disk /dev/vda: 14.0 GB, 13958643712 bytes
16 heads, 63 sectors/track, 27046 cylinders
Units = cylinders of 1008 * 512 = 516096 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00064009
   Device Boot      Start         End      Blocks   Id  System
/dev/vda1   *           3         523      262144   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/vda2             523       21328    10485760   8e  Linux LVM
Partition 2 does not end on cylinder boundary.
/dev/vda3           21328       27046     2882256    5  Extended
/dev/vda5           21328       21531      102664+  83  Linux
/dev/vda6           21532       21938      205096+  83  Linux
/dev/vda7           21939       22549      307912+  83  Linux
Command (m for help): m
Command action
   a   toggle a bootable flag
   b   edit bsd disklabel
   c   toggle the dos compatibility flag
   d   delete a partition
   l   list known partition types
   m   print this menu
   n   add a new partition
   o   create a new empty DOS partition table
   p   print the partition table
   q   quit without saving changes
   s   create a new empty Sun disklabel
   t   change a partition&rsquo;s system id
   u   change display/entry units
   v   verify the partition table
   w   write table to disk and exit
   x   extra functionality (experts only)
Command (m for help): t
Partition number (1-7): 6
Hex code (type L to list codes): 8e
Changed system type of partition 6 to 8e (Linux LVM)
Command (m for help): t
Partition number (1-7): 7
Hex code (type L to list codes): 8e
Changed system type of partition 7 to 8e (Linux LVM)
Command (m for help): p
Disk /dev/vda: 14.0 GB, 13958643712 bytes
16 heads, 63 sectors/track, 27046 cylinders
Units = cylinders of 1008 * 512 = 516096 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00064009
   Device Boot      Start         End      Blocks   Id  System
/dev/vda1   *           3         523      262144   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/vda2             523       21328    10485760   8e  Linux LVM
Partition 2 does not end on cylinder boundary.
/dev/vda3           21328       27046     2882256    5  Extended
/dev/vda5           21328       21531      102664+  83  Linux
/dev/vda6           21532       21938      205096+  8e  Linux LVM
/dev/vda7           21939       22549      307912+  8e  Linux LVM
Command (m for help): w
The partition table has been altered!
Calling ioctl() to re-read partition table.
[root@demo ~]# partx -a /dev/vda
BLKPG: Device or resource busy
error adding partition 1
BLKPG: Device or resource busy
error adding partition 2
BLKPG: Device or resource busy
error adding partition 3
BLKPG: Device or resource busy
error adding partition 5
[root@demo ~]#
[root@demo ~]# partx -a /dev/vda
BLKPG: Device or resource busy
error adding partition 1
BLKPG: Device or resource busy
error adding partition 2
BLKPG: Device or resource busy
error adding partition 3
BLKPG: Device or resource busy
error adding partition 5
BLKPG: Device or resource busy
error adding partition 6
BLKPG: Device or resource busy
error adding partition 7
```</p>

<p>  2、创建物理卷
<code>
[root@demo ~]# pvcreate /dev/vda6
  Writing physical volume data to disk "/dev/vda6"
  Physical volume "/dev/vda6" successfully created
[root@demo ~]# pvcreate /dev/vda7
  Writing physical volume data to disk "/dev/vda7"
  Physical volume "/dev/vda7" successfully created
</code>
  3、创建卷组
<code>
[root@demo ~]# vgcreate togogovg /dev/vda6 /dev/vda7
  Volume group "togogovg" successfully created
[root@demo ~]# vgdisplay togogovg
  --- Volume group ---
  VG Name               togogovg
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  1
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                0
  Open LV               0
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               492.00 MiB
  PE Size               4.00 MiB
  Total PE              123
  Alloc PE / Size       0 / 0   
  Free  PE / Size       123 / 492.00 MiB
  VG UUID               fd7wDW-R1Ov-8oQh-iyvN-tBur-RMoG-VcYQ5d
</code>
4、创建逻辑卷
<code>
[root@demo ~]# lvcreate -n lv01 -L 150M togogovg
  Rounding up size to full physical extent 152.00 MiB
  Logical volume "lv01" created
</code>
5、格式化
```
[root@demo ~]# mkfs -t ext4 /dev/mapper/togogovg-lv01
mke2fs 1.41.12 (17-May-2010)
Filesystem label=
OS type: Linux
Block size=1024 (log=0)
Fragment size=1024 (log=0)
Stride=0 blocks, Stripe width=0 blocks
38912 inodes, 155648 blocks
7782 blocks (5.00%) reserved for the super user
First data block=1
Maximum filesystem blocks=67371008
19 block groups
8192 blocks per group, 8192 fragments per group
2048 inodes per group
Superblock backups stored on blocks:</p>

<pre><code>8193, 24577, 40961, 57345, 73729
</code></pre>

<p>Writing inode tables: done                          <br/>
Creating journal (4096 blocks): done
Writing superblocks and filesystem accounting information: done
This filesystem will be automatically checked every 20 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
<code>
6、挂载
</code>
[root@demo ~]# mkdir /lv01
[root@demo ~]# blkid /dev/mapper/togogovg-lv01
/dev/mapper/togogovg-lv01: UUID=&ldquo;2460a9a1-f1ea-4aae-95ea-c39762380480&rdquo; TYPE=&ldquo;ext4&rdquo;
[root@demo ~]# cat /etc/fstab
#</p>

<h1>/etc/fstab</h1>

<h1>Created by anaconda on Sun Sep  1 09:14:16 2013</h1>

<p>#</p>

<h1>Accessible filesystems, by reference, are maintained under &lsquo;/dev/disk&rsquo;</h1>

<h1>See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</h1>

<p>#
/dev/mapper/vgsrv-root  /                       ext4    defaults        1 1
UUID=af186298-194c-4d01-8c3e-a21b28c45740 /boot                   ext4    defaults        1 2
/dev/mapper/vgsrv-common /common                 ext4    defaults        1 2
/dev/mapper/vgsrv-home  /home                   ext4    defaults        1 2
/dev/mapper/vgsrv-shrink /shrink                 ext4    defaults        1 2
/dev/mapper/vgsrv-swap  swap                    swap    defaults        0 0
tmpfs                   /dev/shm                tmpfs   defaults        0 0
devpts                  /dev/pts                devpts  gid=5,mode=620  0 0
sysfs                   /sys                    sysfs   defaults        0 0
proc                    /proc                   proc    defaults        0 0
UUID=c061f12f-efa2-4aa2-8091-de8e73549bae   /data   ext4    defaults,_netdev    0 0
/dev/vda5       /togogo         ext4    defaults    0 0
UUID=2460a9a1-f1ea-4aae-95ea-c39762380480   /lv01   ext4    defaults    0 0
[root@demo ~]# mount
/dev/mapper/vgsrv-root on / type ext4 (rw)
proc on /proc type proc (rw)
sysfs on /sys type sysfs (rw)
devpts on /dev/pts type devpts (rw,gid=5,mode=620)
tmpfs on /dev/shm type tmpfs (rw,rootcontext=&ldquo;system_u:object_r:tmpfs_t:s0&rdquo;)
/dev/vda1 on /boot type ext4 (rw)
/dev/mapper/vgsrv-common on /common type ext4 (rw)
/dev/mapper/vgsrv-home on /home type ext4 (rw)
/dev/mapper/vgsrv-shrink on /shrink type ext4 (rw)
none on /proc/sys/fs/binfmt_misc type binfmt_misc (rw)
sunrpc on /var/lib/nfs/rpc_pipefs type rpc_pipefs (rw)
/dev/vda5 on /togogo type ext4 (rw)
/dev/mapper/togogovg-lv01 on /lv01 type ext4 (rw)
<code>
- 扫描，查看物理卷，卷组，逻辑卷信息：  
pvscan,pvdisplay  
vgscan,vgdisplay  
lvscan,lvdisplay  
实例：  
</code>
[root@demo ~]# vgscan
  Reading all physical volumes.  This may take a while&hellip;
  Found volume group &ldquo;togogovg&rdquo; using metadata type lvm2
  Found volume group &ldquo;vgsrv&rdquo; using metadata type lvm2
[root@demo ~]#
[root@demo ~]# pvscan
  PV /dev/vda6   VG togogovg   lvm2 [196.00 MiB / 44.00 MiB free]
  PV /dev/vda7   VG togogovg   lvm2 [296.00 MiB / 296.00 MiB free]
  PV /dev/vda2   VG vgsrv      lvm2 [9.97 GiB / 4.75 GiB free]
  Total: 3 [10.45 GiB] / in use: 3 [10.45 GiB] / in no VG: 0 [0   ]
[root@demo ~]# pvdisplay /dev/vda6
  &mdash;&ndash; Physical volume &mdash;&ndash;
  PV Name               /dev/vda6
  VG Name               togogovg
  PV Size               200.29 MiB / not usable 4.29 MiB
  Allocatable           yes
  PE Size               4.00 MiB
  Total PE              49
  Free PE               11
  Allocated PE          38
  PV UUID               pjxkza-zEAg-3JF6-G7Gg-1oju-xcuZ-bJdF5x
[root@demo ~]# vgdisplay togogovg
  &mdash;&ndash; Volume group &mdash;&ndash;
  VG Name               togogovg
  System ID           <br/>
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  2
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               1
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               492.00 MiB
  PE Size               4.00 MiB
  Total PE              123
  Alloc PE / Size       38 / 152.00 MiB
  Free  PE / Size       85 / 340.00 MiB
  VG UUID               fd7wDW-R1Ov-8oQh-iyvN-tBur-RMoG-VcYQ5d
[root@demo ~]# lvdisplay /dev/mapper/togogovg-lv01
  &mdash;&ndash; Logical volume &mdash;&ndash;
  LV Path                /dev/togogovg/lv01
  LV Name                lv01
  VG Name                togogovg
  LV UUID                BMsz8a-ye5Q-77oH-rm5y-O3I6-moKB-YeOXmP
  LV Write Access        read/write
  LV Creation host, time demo.example.com, 2013-09-15 14:56:43 -0400
  LV Status              available
  # open                 1
  LV Size                152.00 MiB
  Current LE             38
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  &ndash; currently set to     256
  Block device           253:5
```</p>

<h3>扩展逻辑卷</h3>

<ul>
<li><p>一般流程：<br/>
新建一个物理卷&mdash;>将物理卷加入卷组&mdash;>扩展逻辑卷<br/>
实例：<br/>
1、创建物理卷（略）<br/>
2、扩展卷组<br/>
```
[root@demo ~]# vgextend togogovg /dev/vda8
Volume group &ldquo;togogovg&rdquo; successfully extended
[root@demo ~]# vgdisplay togogovg</p>

<p>VG Name               togogovg
System ID           <br/>
Format                lvm2
Metadata Areas        3
Metadata Sequence No  3
VG Access             read/write
VG Status             resizable
MAX LV                0
Cur LV                1
Open LV               1
Max PV                0
Cur PV                3
Act PV                3
VG Size               788.00 MiB
PE Size               4.00 MiB
Total PE              197
Alloc PE / Size       38 / 152.00 MiB
Free  PE / Size       159 / 636.00 MiB
VG UUID               fd7wDW-R1Ov-8oQh-iyvN-tBur-RMoG-VcYQ5d
<code>
3、扩展逻辑卷
</code>
[root@demo ~]# lvextend -L +148M /dev/mapper/togogovg-lv01
Extending logical volume lv01 to 300.00 MiB
Logical volume lv01 successfully resized
[root@demo ~]# lvdisplay /dev/mapper/togogovg-lv01
&mdash;&ndash; Logical volume &mdash;&ndash;
LV Path                /dev/togogovg/lv01
LV Name                lv01
VG Name                togogovg
LV UUID                BMsz8a-ye5Q-77oH-rm5y-O3I6-moKB-YeOXmP
LV Write Access        read/write
LV Creation host, time demo.example.com, 2013-09-15 14:56:43 -0400
LV Status              available</p>

<h1>open                 1</h1>

LV Size                300.00 MiB
Current LE             75
Segments               2
Allocation             inherit
Read ahead sectors     auto

<ul>
<li>currently set to     256
Block device           253:5
[root@demo ~]# df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vgsrv-root 4.0G  2.6G  1.3G  68% /
tmpfs                 499M   88K  499M   1% /dev/shm
/dev/vda1             248M   33M  203M  14% /boot
/dev/mapper/vgsrv-common 124M  5.6M  113M   5% /common
/dev/mapper/vgsrv-home 248M   46M  191M  20% /home
/dev/mapper/vgsrv-shrink 310M   11M  284M   4% /shrink
/dev/vda5              98M  5.6M   87M   6% /togogo
/dev/mapper/togogovg-lv01 148M  5.6M  135M   4% /lv01
[root@demo ~]# resize2fs /dev/mapper/togogovg-lv01
resize2fs 1.41.12 (17-May-2010)
Filesystem at /dev/mapper/togogovg-lv01 is mounted on /lv01; on-line resizing required
old desc_blocks = 1, new_desc_blocks = 2
Performing an on-line resize of /dev/mapper/togogovg-lv01 to 307200 (1k) blocks.
The filesystem on /dev/mapper/togogovg-lv01 is now 307200 blocks long.
[root@demo ~]# df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vgsrv-root 4.0G  2.6G  1.3G  68% /
tmpfs                 499M   88K  499M   1% /dev/shm
/dev/vda1             248M   33M  203M  14% /boot
/dev/mapper/vgsrv-common 124M  5.6M  113M   5% /common
/dev/mapper/vgsrv-home 248M   46M  191M  20% /home
/dev/mapper/vgsrv-shrink 310M   11M  284M   4% /shrink
/dev/vda5              98M  5.6M   87M   6% /togogo
/dev/mapper/togogovg-lv01  291M  6.1M  270M   3% /lv01
[root@demo ~]# pvscan
PV /dev/vda6   VG togogovg   lvm2 [196.00 MiB / 0    free]
PV /dev/vda7   VG togogovg   lvm2 [296.00 MiB / 192.00 MiB free]
PV /dev/vda8   VG togogovg   lvm2 [296.00 MiB / 296.00 MiB free]
PV /dev/vda2   VG vgsrv      lvm2 [9.97 GiB / 4.75 GiB free]
Total: 4 [10.74 GiB] / in use: 4 [10.74 GiB] / in no VG: 0 [0   ]
```</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux安装 Zend Frame 笔记]]></title>
    <link href="http://grunmin.github.io/blog/2013/08/02/fedora-an-zhuang-zend-frame-bi-ji/"/>
    <updated>2013-08-02T00:15:00+08:00</updated>
    <id>http://grunmin.github.io/blog/2013/08/02/fedora-an-zhuang-zend-frame-bi-ji</id>
    <content type="html"><![CDATA[<h3>新建项目</h3>

<p>下载Zend Frame安装包(现在下载ZF要注册！可以用这条命令直接下载)
<code>
$ wget http://framework.zend.com/releases/ZendFramework-1.11.11/ZendFramework-1.11.11-minimal.tar.gz
$ php -i | grep include_path
</code>
(用源码包安装的php，若显示php命令不存在，就把php安装目录里bin文件下的php文件复制到可执行目录下，如/bin或/usr/bin)</p>

<!-- more -->


<p>在服务器文件根目录apache2/htdocs下执行
<code>
$ zf create project [projectname]
</code>
(projectname即你要的项目名，不加方括号)，会生成一个projectname的目录。此时目录下有application,docs,library,public,tests目录。<br/>
把之前的Zend文件夹再复制到library目录下。</p>

<h3>配置php和apache，启动rewrite功能</h3>

<p>进入apache的源码目录(不是安装目录)输入
<code>
$ find -name mod_rewrite.c
$ cd PATH/to/mod_rewrite.c  #进入mod_rewrite.c所在目录
$ sudo /usr/local/apache2/bin/apxs -c mod_rewrite.c
$ sudo /usr/local/apache2/bin/apxs -i -a -n mod_rewrite mod_rewrite.la
</code>
成功的话应该在你的apache的modules目录中编译出一个<code>mod_rewrite.so</code>文件。<br/>
编辑httpd.conf文件，确认httpd.conf中已经包含<code>mod_rewrite.so</code>的加载语句，如下：
<code>
LoadModule rewrite_module modules/mod_rewrite.so  #(即把此语句前的#号去掉)  
</code>
这时你的apache应该已经支持rewrite了。<br/>
修改<code>apache/conf/httpd.conf </code>
把
<code>
AllowOverride None
</code>
的None改成 All<br/>
重启apache</p>

<p>若成功的话打开浏览器进入<code>localhost/projectname/public</code>可以看到Zend Frame的欢迎界面</p>

<p>注，我安装的版本是Zend Framework Version: 1.11.11，其他版本没有试过，查询版本信息可用
<code>
zf show version
</code>
安装过程中遇到了许多问题，比如服务器加载失败，出现500错误等。按照一些教程去弄虚拟主机，并设置library为apache文件根目录。结果证明这些都是多余的。如果按照上面的步骤安装出现了问题，可以查看apache2/log/error_log文件。如出现下面的问题，可以参考参考资料里的<a href="http://ayiui4566.iteye.com/blog/662170">wamp+Zend框架配置问题</a>
<code>
 Request exceeded the limit of 10 internal     redirects due to probable configuration error. Use 'LimitInternalRecursion'     to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace.
</code>
<code>
  /usr/local/apache2/htdocs/zftest/.htaccess:            Invalid command 'RewriteRule!\\.(js|ico|gif|jpg|png|css)$', perhaps             misspelled or defined by a module not included in the server configuration
</code>
<code>
   PHP Warning:  require_once(Zend/Application.php):      failed to open stream: No such file or directory in /usr/local/apache2/         htdocs/zftest/public/index.php on line 18
</code></p>

<h4>参考资料：</h4>

<p>   <a href="http://www.path8.net/tn/archives/961">Linux下Apache安装/增加mod_rewrite模块以启用rewrite功能</a><br/>
   <a href="http://ayiui4566.iteye.com/blog/662170">WAMP+Zend框架配置问题</a><br/>
   <a href="http://blog.csdn.net/daydreamingboy/article/details/6327527">Zend Framework学习日记(1)&mdash;环境搭建篇</a><br/>
   <a href="http://blog.csdn.net/mengxiangbaidu/article/details/7046568#">Zend Framework教程-用Zend命令行快速创建Zend应用</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux安装wecenter笔记]]></title>
    <link href="http://grunmin.github.io/blog/2013/07/25/fedoraan-zhuang-wecenterbi-ji/"/>
    <updated>2013-07-25T20:32:00+08:00</updated>
    <id>http://grunmin.github.io/blog/2013/07/25/fedoraan-zhuang-wecenterbi-ji</id>
    <content type="html"><![CDATA[<p><em>此文是前文配置lamp的延伸</em><br/>
在前面的一片文章里，用源码包安装的方式搭建了lamp环境，wecenter需要服务器支持mysqli或者pdo模块,支持curl,GD图像处理库，原来安装lamp过程中并无相关方面的配置，鼓捣了半天之后其他条件都已满足，唯独GD图像处理库不能安装。</p>

<!-- more -->


<p>谷歌了许多结果，一一尝试，一一失败，最后看到<a href="http://tech.soft6.com/665/16/78687.html">这篇文章</a>，果断把之前编好的php删除了按照文中方法重装一遍，居然成功了！</p>

<p>现在从零开始记录一下安装过程。</p>

<p>按照上一篇笔记配置好lamp环境，php先不安装。
把下载下来的wecenter里的UPLOAD复制到/usr/local/apache2/htdocs/里（即文件根目录），打开浏览器，输入地址<code>http://localhost/UPLOAD/install</code>，进入安装界面。在我的机子上，一开始不能满足的条件是数据库模块，curl支持，图像处理库和目录权限。<br/>
从最简单的开始，因为后面还会要求UPLOAD下的文件开放权限，因此直接一个<br/>
```</p>

<h1>chmod 777 /usr/local/apache2/htdocs/UPLOAD</h1>

<p><code>
之后就是折腾了很久的GD，Linux下得GD库安装要比windows麻烦很多。先参照此文：http://tech.soft6.com/665/16/78687.html  
此前的多次实验表明这个是唯一比较靠谱的安装方法（当然不才眼界有限）。装好之后就可以进行下一步了。  
开启curl和mysqli或者pdo支持，可以用如下方法
以curl为例，首先  
</code></p>

<h1>cd /usr/local/php-***/ext/curl #进入源码包的curl目录</h1>

<h1>/usr/local/php/bin/phpize #运行phpize命令</h1>

<h1>./configure &mdash;with-php-config=/usr/local/php/bin/php-config</h1>

<h1>make &amp;&amp; make install</h1>

<p><code>
成功后可以看到创建的curl.so文件位于/usr/local/php/lib/php/extension/no-debug-non-zts-*******/,复制curl.so到/usr/local/php/ext下(没有目录则创建一个)，再敲入  
</code></p>

<h1>vi /usr/local/php/lib/php.ini​</h1>

<p>```
在加载模块(一堆extension处 大概第980行)加上一行extension=curl.so 修改extension_dir=“/usr/local/php/ext” (第819行),重启apache即可。(前面的操作如需立刻看到效果也需重启apache)</p>

<p><a href="http://blog.csdn.net/grunmin/article/details/9468639">这里</a>是增加php模块的方法介绍，mysqli可用此法解决。</p>

<p><em>注：用rpm包搭建lamp时没有出现上述问题</em></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[linux搭建lamp环境笔记]]></title>
    <link href="http://grunmin.github.io/blog/2013/07/21/fedoraan-zhuang-lamphuan-jing-bi-ji/"/>
    <updated>2013-07-21T11:20:00+08:00</updated>
    <id>http://grunmin.github.io/blog/2013/07/21/fedoraan-zhuang-lamphuan-jing-bi-ji</id>
    <content type="html"><![CDATA[<p>在学习php编程的过程中，了解了lamp环境的重要性，因此尝试自行搭建。在这个过程中经历了很多困难，为了便于查阅和再次搭建，在此将过程都记录下来。有错漏或可以改进的地方，欢迎指出拨正。</p>

<!-- more -->


<p>此前都是用源码包安装，其实用rpm包安装省时省力。</p>

<h2>从软件包安装</h2>

<p>```</p>

<h1>yum groupinstall &lsquo;web-server&rsquo; -y</h1>

<h1>yum install -y php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt pcre-devel libxml2-devel mysql-devel apr apr-devel apr-util apr-util-devel curl-devel libpng-devel mysql-server</h1>

<p>```</p>

<h2>源码包安装</h2>

<h3>前期工作</h3>

<p><strong>第1步</strong>： 在终端输入
<code>
$ sudo yum update  # 更新系统
</code>
<strong>第2步</strong>：下载apache,mysql,apr,apr-util,phpMyAdmin,php,pcre(非必需）安装包</p>

<p><strong>第3步</strong>：
<code>
$ sudo yum install gcc gcc-c++ libxml2 libxml2-devel pcre pcre-devel #安装依赖软件包
</code>
<strong>第4步</strong>：tar -zxvf 解压apache,mysql,php,pcre 等压缩包， sudo mv 移动到/usr/local目录下<br/>
<code>
$ sudo cd /usr/local/pcre;./configure --prefix=/usr/local/pcre #安装pcre
</code>
（非必需，如果安装apache时显示未安装pcre可按照此法安装）<br/>
<strong>第5步</strong>： cd httpd/srclib/ 解压apr,apr-util 到目录下，修改文件名（不带版本号，如apr-util）</p>

<h3>安装apache:</h3>

<p><code>
$ cd /usr/local/httpd  # 进入安装目录  
$ sudo ./configure --prefix=/usr/local/apache2 --enable-so --with-mpm=worker --with-pcre=/usr/local/pcre --with-included-apr # 配置（注意./configure的/前有个小点，若没有按照上文安装pcre，可去掉--with-pcre后面的路径）
$ sudo make
$ sudo make install
 #(--prefix指定安装目录，配置文件在/usr/local/apache2/conf目录下，--enable-so启动加载共享模块的功能，--with-mpm=worker吿诉apache使用多线程化多处理模块worker.)
</code>
<strong>启动apache</strong>:<br/>
<code>
$ sudo /usr/local/apache2/bin/httpd -k start | stop
</code>
 或
<code>
$ sudo /usr/local/apache2/bin/apachectl start | stop
</code>
(可用ps -e | grep httpd 查看apache是否已开启）</p>

<h3>安装mysql：</h3>

<p><code>
$ cd /usr/local
$ sudo ln -s /usr/local/mysql-××× mysql #链接源码到一个文件夹
$ cd mysql
$ scripts/mysql_install_db --user=[username]    #（username为自己的用户名，中括号不用打进去，下同）
$ sudo chown -R root .     #（注意末尾有个小点）
$ sudo chown -R [username] data
$ sudo chgrp -R [username] .
</code>
<strong>启动mysql</strong>:<br/>
<code>
 sudo /usr/local/mysql/bin/mysqld_safe --user=[username] &amp;
</code>
<strong>设置开机启动Mysql</strong>：
<code>
$ sudo cp support-files/mysql.server /etc/init.d/[username]
$ sudo cp support-files/mysqld_multi.server /etc/init.d/[username]
$ sudo chmod +x /etc/init.d/[username]
$ sudo chkconfig --add [username]
</code>
<strong>测试</strong>：
<code>
$ sudo /usr/local/mysql/bin/mysqladmin -u root -p version
$ sudo /usr/local/mysql/bin/mysqlshow
</code>
<strong>修改密码，删除匿名用户</strong>：
<code>
$ sudo /usr/local/mysql/bin/mysqladmin -u root -p password [password]
$ sudo /usr/local/mysql/bin/mysql -u root -p
</code>
[password]可以不输入，上面两个命令是修改密码用，此时进入mysql命令界面<br/>
<code>
mysql&gt; delete from mysql.user where host='localhost' and user='';
mysql&gt; flush privileges;
</code></p>

<h3>安装php</h3>

<p><code>
$ cd /usr/local/php-5__
$ sudo ./configure --prefix=/usr/local/php --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql=/usr/local/mysql
$ make
$ sudo make install
$ sudo cp /usr/local/php___/php.ini-__ /usr/local/php/lib/php.ini  
</code>
修改httpd.conf 添加AddType application/x-httpd-php .php<br/>
在DirectoryIndex index.html 后加入index.php<br/>
<strong>重启apache</strong>:
<code>
sudo /usr/local/apache2/bin/apachectl restart
</code></p>

<h3>安装phpMyAdmin:</h3>

<p><code>
tar -zxvf phpMyAdmin___ -C /usr/local/apache2/htdocs
</code>
到此全部完成</p>

<h3>Q1</h3>

<p>如果测试mysql时没有显示版本信息等界面，而是显示Can&rsquo;t connect to local MySQL server through socket &lsquo;/tmp/mysql.sock&rsquo;(2)则极有可能是mysql没有安装成功。解决办法是删除系统自带的mysql服务，
<code>
$ rpm -qa | grep mysql
</code>
若有输出结果，则直接用rpm -e删除之，再输入
<code>
$ chkconfig --list | grep -i mysql
</code>
检查mysql服务，有的话再删除之
<code>
$ sudo chkconfig --del mysql
</code>
然后按照安装mysql的步骤再安装一次即可。</p>
]]></content>
  </entry>
  
</feed>
